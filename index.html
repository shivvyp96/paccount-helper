<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>P-Account Builder Helper</title>
<style>
    body {
        font-family: "Trebuchet MS", sans-serif;
        background: #0f172a;
        color: #e2e8f0;
        margin: 0;
        display: flex;
        height: 100vh;
    }

    #left-panel {
        width: 400px;
        overflow-y: auto;
        background: #1e293b;
        padding: 15px;
        border-right: 2px solid #3b82f6;
    }

    #right-panel {
        flex-grow: 1;
        padding: 15px;
        overflow-y: auto;
        background: #0f172a;
    }

    h2 {
        color: #3b82f6;
        margin-top: 15px;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    h2 span {
        transition: transform 0.2s ease;
        display: inline-block;
    }

    h2.collapsed span {
        transform: rotate(-90deg);
    }

    ul {
        list-style: none;
        padding-left: 20px;
        margin-top: 5px;
        display: none;
    }

    li {
        padding: 4px 0;
        cursor: pointer;
    }

    li:hover {
        color: #3b82f6;
    }

    .stacked-task {
        background: #1e293b;
        margin-bottom: 5px;
        padding: 5px;
        border-radius: 5px;
        font-family: monospace;
    }

    input[type=number] {
        width: 60px;
        padding: 3px;
        margin-left: 5px;
        border-radius: 4px;
        border: 1px solid #3b82f6;
        background: #0f172a;
        color: #e2e8f0;
        step: 1;
    }

    #search {
        width: calc(100% - 20px);
        padding: 5px;
        margin-bottom: 10px;
        border-radius: 5px;
        border: 1px solid #3b82f6;
        background: #0f172a;
        color: #e2e8f0;
    }

    button {
        margin-top: 10px;
        padding: 8px 12px;
        border-radius: 5px;
        border: none;
        background: #3b82f6;
        color: #fff;
        cursor: pointer;
    }

    #stacked-tasks {
        max-height: 80vh;
        overflow-y: auto;
    }
</style>
</head>
<body>
<div id="left-panel">
    <input type="text" id="search" placeholder="Search tasks...">

    <!-- Sections -->
    <h2 onclick="toggleSection('quests')">Quests <span>&#9654;</span></h2>
    <ul id="quests"></ul>

    <h2 onclick="toggleSection('skills')">Skills <span>&#9654;</span></h2>
    <ul id="skills"></ul>

    <h2 onclick="toggleSection('diaries')">Achievement Diaries <span>&#9654;</span></h2>
    <ul id="diaries"></ul>

    <h2 onclick="toggleSection('repeating')">Repeating Tasks <span>&#9654;</span></h2>
    <ul id="repeating"></ul>

    <h2 onclick="toggleSection('milestones')">Milestones <span>&#9654;</span></h2>
    <ul id="milestones"></ul>

    <h2 onclick="toggleSection('minigames')">Minigames <span>&#9654;</span></h2>
    <ul id="minigames"></ul>

    <h2 onclick="toggleSection('ironstarter')">Ironman Starter <span>&#9654;</span></h2>
    <ul id="ironstarter"></ul>
</div>

<div id="right-panel">
    <h2>Selected Tasks</h2>
    <div id="stacked-tasks"></div>
    <button onclick="copyAll()">Copy Full Stack</button>
</div>

<script>
// Dataset
const quests = [
    'Cooks Assistant','Doric\'s Quest','Druidic Ritual','Imp Catcher','Dwarf Cannon','Natural History Quiz',
    'Romeo and Juliet','Sea Slug','Sheep Shearer','The Feud','Witch\'s House','Witch\'s Potion',
    'Black Knights\' Fortress','Gertrude\'s Cat','Horror from the Deep','Elemental Workshop I','Death Plateau',
    'Troll Stronghold','X Marks the Spot','Alfred Grimhands Barcrawl','Client of Kourend','The Restless Ghost',
    'Rune Mysteries','Vampyre Slayer','Waterfall Quest','Plague City','Biohazard','The Knight\'s Sword',
    'Ernest the Chicken','Monk\'s Friend','Fight Arena','Tree Gnome Village','Priest in Peril','Nature Spirit',
    'RFD Cook','RFD Dwarf','Fishing Contest','A Porcine of Interest','Animal Magnetism','Merlins Crystal','Holy Grail',
    'Dragon Slayer I','Lost City','What Lies Below','The Dig Site','The Grand Tree','Goblin Diplomacy','RFD Goblins',
    'Fairy Tale I','Bone Voyage','Jungle Potion','The Ascent of Arceuus','Shilo Village','One Small Favour','Murder Mystery',
    'King\'s Ransom','The Tourist Trap','Temple of Ikov','Desert Treasure I','The Fremennik Trials','Observatory Quest',
    'Demon Slayer','Underground Pass','The Golem','Shadow of the Storm','Ghosts Ahoy','Making History','Mountain Daughter',
    'Hazeel Cult','Children of the Sun','Prince Ali Rescue','Icthlarin\'s Little Helper','Enter the Abyss','Temple of the Eye',
    'Creature of Fenkenstrain','The Depths of Despair','The Queen of Thieves','Enlightened Journey','Sheep Herder','Big Chompy Bird Hunting',
    'RFD Ogre','RFD Evil Dave','RFD Pirate','RFD Lumbridge Guide','RFD Monkey','RFD Sir Amik Varze','RFD Culinaromancer','Shield of Arrav',
    'Heroes Quest','Tower of Life','Clock Tower','Tribal Totem','Watchtower','Getting Ahead','Pirate\'s Treasure','Scorpion Catcher','The Corsair Curse',
    'Family Crest','The Garden of Death','Monkey Madness I','The Forsaken Tower','Haunted Mine','Tale of the Righteous','Sleeping Giants','Troll Romance',
    'The Lost Tribe','Recruitment Drive','A Kingdom Divided','Death on the Isle','Wanted!','Twilights Promise','Regicide','Roving Elves',
    'Mournings End Part I','Mournings End Part II','Ethically Acquired Antiquities','Daddy\'s Home','Lunar Diplomacy','In Search of the Myreque',
    'In Aid of the Myreque','Throne of Miscellania','Royal Trouble','The Hand in the Sand','Zogre Flesh Eaters','Rum Deal','Cabin Fever',
    'The Eyes of Glouphrie','The Slug Menace','Below Ice Mountain','Eadgars Ruse','Garden of Tranquillity','A Soul\'s Bane','Shadows of Custodia',
    'Monkey Madness II','Tai Bwo Wannai Trio','Barbarian Training','The Fremennik Isles','Pandemonium','Prying Times','Current Affairs','Mage Arena I','Mage Arena II'
];

const skills = ['Attack','Strength','Defense','Ranged','Magic','Prayer','Hitpoints','Cooking','Woodcutting','Fletching','Fishing','Firemaking','Crafting','Smithing','Mining','Herblore','Agility','Thieving','Slayer','Farming','Runecrafting','Hunter','Construction','Sailing'];

const diaries = ['Varrock Easy','Varrock Medium','Ardougne Easy','Ardougne Medium','Lumbridge Easy','Lumbridge Medium','Karamja Easy','Kourend Easy'];
const repeating = ['Birdhouse Runs','Tree Runs','Herb Runs','Seaweed Runs','Hop Runs','Compost Runs','Hespori','Kingdom of Miscellania'];
const milestones = ['Dragon Defender','Rune Defender','Fairy Rings','Piety / Knight Waves Training Grounds','Rogues Outfit','Rock Cake','Black Mask'];
const minigames = ['Vale Totems','Mage Training Arena','Wintertodt','Motherlode Mine','Giant\'s Foundry'];
const ironstarter = ['Ironman Starter Part 1'];

// Populate lists
function populateList(id, items, isSkill=false){
    const ul = document.getElementById(id);
    items.forEach(item => {
        const li = document.createElement('li');
        if(isSkill){
            li.innerHTML = `${item} <input type='number' min='1' max='99' placeholder='Level' onchange="addSkill('${item}', this.value)">`;
        } else {
            li.textContent = item;
            li.onclick = () => addTask(item);
        }
        ul.appendChild(li);
    });
}

populateList('quests', quests);
populateList('skills', skills, true);
populateList('diaries', diaries);
populateList('repeating', repeating);
populateList('milestones', milestones);
populateList('minigames', minigames);
populateList('ironstarter', ironstarter);

// Toggle Sections
function toggleSection(id){
    const ul = document.getElementById(id);
    const h2 = ul.previousElementSibling;
    if(ul.style.display==='block'){
        ul.style.display='none';
        h2.classList.add('collapsed');
    } else {
        ul.style.display='block';
        h2.classList.remove('collapsed');
    }
}

// Initial collapse
document.querySelectorAll('#left-panel ul').forEach(ul => ul.style.display='none');
document.querySelectorAll('#left-panel h2').forEach(h2=>h2.classList.add('collapsed'));

// Add Task
function addTask(task){
    const container = document.getElementById('stacked-tasks');
    const div = document.createElement('div');
    div.className = 'stacked-task';
    div.textContent = task;
    container.appendChild(div);
}

function addSkill(skill, level){
    if(!level) return;
    addTask(`SKILL:${skill}:${level}`);
}

function copyAll(){
    const text = Array.from(document.getElementById('stacked-tasks').children).map(c=>c.textContent).join('\n');
    navigator.clipboard.writeText(text);
    alert('Full stack copied!');
}

// Search
document.getElementById('search').addEventListener('input', function(){
    const filter = this.value.toLowerCase();
    document.querySelectorAll('#left-panel ul').forEach(ul => {
        Array.from(ul.children).forEach(li => {
            li.style.display = li.textContent.toLowerCase().includes(filter) ? '' : 'none';
        });
    });
});
</script>
</body>
</html>
